<ion-header>

  <ion-navbar>
    <ion-title>{{ title }}</ion-title>
  </ion-navbar>

</ion-header>

<ion-content no-padding>
  <form [formGroup]="addQuestionForm" (ngSubmit)="onSubmit()">

    <ion-item no-lines>
      <ion-label stacked>Question</ion-label>
      <ion-textarea type="text" formControlName="value" rows="5" ngDefaultControl></ion-textarea>
    </ion-item>
    <p ion-text color="danger" class="validation" padding-left no-margin>
      {{ formErrors.value }}
    </p>

    <div formArrayName="answers">
      <ion-item no-lines no-padding *ngFor="let answerControl of addQuestionForm.controls.answers.controls; let i=index">
        <div class="panel-heading">
          <span>Option {{i + 1}}</span>
          <ion-icon name="close" *ngIf="addQuestionForm.controls.answers.controls.length > 1" (click)="removeAnswer(i)"></ion-icon>
        </div>
        <div class="panel-body" [formGroupName]="i">
          <manage-answer [group]="addQuestionForm.controls.answers.controls[i]"></manage-answer>
        </div>
      </ion-item>
    </div>

    <div>
      <a (click)="addAnswer()" style="cursor: default">
        Add another option +
      </a>
    </div>

  </form>
</ion-content>